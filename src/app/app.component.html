<div class="background-container">
  <img src="assets/images/LogoMoneyManager.svg" alt="Logo Money Manager" class="logo" />
  
  <mat-card class="cash-flow-container">
    <mat-toolbar color="primary">
      <span>Fluxo de Caixa</span>
    </mat-toolbar>

    <div class="month-selector">
      <button mat-button (click)="previousMonth()">←</button>
      <span>{{ currentMonth }} - Total: {{ totalEntries - totalExits }}</span>
      <button mat-button (click)="nextMonth()">→</button>
    </div>

    <div class="totals">
      <mat-card>Total Entradas: {{ totalEntries }}</mat-card>
      <mat-card>Total Saídas: {{ totalExits }}</mat-card>
    </div>

    <form (ngSubmit)="addTransaction()" class="transaction-form">
      <div class="form-row">
        <mat-form-field appearance="fill">
          <mat-label>Descrição</mat-label>
          <input matInput [(ngModel)]="description" name="description" required>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Valor</mat-label>
          <input matInput type="number" [(ngModel)]="value" name="value" required>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Tipo de Transação</mat-label>
          <mat-select [(ngModel)]="transactionType" name="transactionType" required>
            <mat-option value="entrada">Entrada</mat-option>
            <mat-option value="saida">Saída</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <button mat-raised-button color="primary" type="submit" class="save-button">Salvar</button>
    </form>

    <div class="transactions">
      <h3>Transações:</h3>
      <div class="transaction-list">
        <mat-list>
          <mat-list-item *ngFor="let transaction of transactions" class="transaction-item">
            <span [ngClass]="{'red-text': transaction.type === 'saida'}">
              {{ transaction.description }} - {{ transaction.value }} ({{ transaction.type }})
            </span>
            <div class="transaction-buttons">
              <button mat-button (click)="editTransaction(transaction)">Editar</button>
              <button mat-button color="warn" (click)="deleteTransaction(transaction)">Excluir</button>
            </div>
          </mat-list-item>
        </mat-list>
      </div>
    </div>
  </mat-card>
</div>
